webpackJsonp([1],{DXHY:function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("7+uW"),a={data:function(){return{activeIndex:"/allList"}},created:function(){if(console.log(this.$router.history.current.path),sessionStorage.getItem("username"))this.activeIndex=this.$router.history.current.path;else{var t="http://"+location.host+"/#/login";window.open(t,"_self")}}},l={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("el-container",{attrs:{id:"app"}},[s("el-header",[s("img",{attrs:{src:"/static/img/icon-144.png"}}),t._v(" "),s("span",[t._v("MusicFM Operations Management System")])]),t._v(" "),s("el-container",[s("el-aside",{attrs:{width:"200px"}},[s("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":t.activeIndex,router:!0,"unique-opened":!0}},[s("el-submenu",{attrs:{index:"songList"}},[s("template",{slot:"title"},[s("i",{staticClass:"el-icon-menu"}),t._v("æ­Œå•ç®¡ç†")]),t._v(" "),s("el-menu-item",{attrs:{index:"/allList"}},[t._v("å…¨éƒ¨æ­Œå•")])],2)],1)],1),t._v(" "),s("el-main",[s("router-view")],1)],1)],1)},staticRenderFns:[]},n=s("VU/8")(a,l,!1,function(t){s("DXHY")},null,null).exports,o=s("/ocq"),r=s("mtWM"),c=s.n(r).a.create({baseURL:"http://"+location.hostname+":4000",timeout:2e4});c.interceptors.response.use(function(t){return t.status,t.data},function(t){return console.error("httpè¯·æ±‚å¤±è´¥",t),t}),c.defaults.headers.post["Content-Type"]="application/json";var u=c;s("X2Oc");var g={data:function(){return{songList:[],dialogVisible:!1,dialogImg:"",addVisible:!1,loading2:!1,visible2:!1,currentPage:1,id:"",total:0,idolname:"",Stitle:"",Sstatus:"",title:"",Stag:"",hosts:"http://opt.groupy.cn/api/fileupload",Status:1,idolType:"idol",song:{id:"",title:"",description:"",img:"",TAG:"",original_name:"",link:"",status:1},rules:{title:[{required:!0,message:"è¯·è¾“å…¥æ­Œå•åç§°",trigger:"blur"}],link:[{required:!0,message:"è¯·è¾“å…¥æ­Œå•é“¾æ¥",trigger:"blur"}],img:[{required:!0,message:"è¯·ä¸Šä¼ å°é¢å›¾",trigger:"blur"}]}}},methods:{handleImg:function(t,e){this.song.img=t.url},tableRowClassName:function(t){var e=t.row;t.index;return"0"==e.status?"del-row":""},showBigImg:function(t){this.dialogImg=t,this.dialogVisible=!0},editStatus:function(t,e){this.addVisible=!0,this.Status=t,this.id=e,this.title=1==t?"ä½ ç¡®å®šè¦ä¸Šçº¿IDä¸º"+e+"è¿™ä¸ªæ­Œå•å—ï¼Ÿï¼Ÿ":"ä½ ç¡®å®šè¦ä¸‹çº¿IDä¸º"+e+"è¿™ä¸ªæ­Œå•å—ï¼Ÿï¼Ÿ"},pushStatus:function(){var t=this;t.loading2=!0,u.get("/api/playlist/editStatus",{params:{id:t.id,status:t.Status}}).then(function(e){t.loading2=!1,e.success?(t.handleCurrentChange(t.currentPage),t.addVisible=!1,0==t.Status?t.$message({message:"ğŸ˜­ï¼Œä½ å†ä¹Ÿä¸ä¼šåœ¨appé‡Œé¢çœ‹åˆ°è¿™ä¸ªæ­Œå•äº†ï¼",type:"success"}):t.$message({message:"ğŸ˜ƒï¼Œä½ å¾ˆå¿«å°±å¯ä»¥åœ¨appé‡Œé¢çœ‹åˆ°è¿™ä¸ªæ­Œå•äº†ï¼",type:"success"})):t.$message.error("æœåŠ¡å™¨æˆ–è€…ç½‘ç»œé”™è¯¯"+e)}).catch(function(e){t.loading2=!1,t.$message.error("æœåŠ¡å™¨æˆ–è€…ç½‘ç»œé”™è¯¯"+res)})},handleCurrentChange:function(t){var e=this,s=e.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});e.currentPage=t||1,console.log(e.Stitle),u.get("/api/playlist/list",{params:{pageNum:10,page:e.currentPage,TAG:e.Stag,title:e.Stitle,status:e.Sstatus}}).then(function(t){console.log(t),e.songList=t,s.close()}).catch(function(t){e.$message.error("æœåŠ¡å™¨æˆ–è€…ç½‘ç»œé”™è¯¯"+res)}),u.get("/api/playlist/count",{params:{TAG:e.Stag,title:e.Stitle,status:e.Sstatus}}).then(function(t){console.log(t),e.total=t[0].count}).catch(function(t){e.$message.error("æœåŠ¡å™¨æˆ–è€…ç½‘ç»œé”™è¯¯"+res)})},editSong:function(t){this.visible2=!0,this.song=t?{id:t.id,title:t.title,description:t.description,img:t.img,TAG:t.TAG,original_name:t.original_name,link:"https://www.youtube.com/playlist?list="+t.original_id,status:t.status}:{id:"",title:"",description:"",img:"",TAG:"",original_name:"",link:"",status:1}},pushSong:function(){var t=this;if(t.loading2=!0,t.song.title&&t.song.link&&t.song.img){var e={id:t.song.id,title:t.song.title,description:t.song.description,img:t.song.img,TAG:t.song.TAG,original_name:t.song.original_name,original_id:t.song.link.match(/.*list=(.*)&?.*/)[1],status:t.song.status};u.post("/api/playlist/edit",e).then(function(e){t.loading2=!1,e.success?(t.handleCurrentChange(t.currentPage),t.visible2=!1,t.$message({message:"ğŸ˜„ ä½ å¾ˆå¿«å°±å¯ä»¥çœ‹åˆ°ä½ ç¼–è¾‘çš„è¿™ä¸ªæ­Œå•äº†ï¼ï¼",type:"success"})):t.$message.error("æœåŠ¡å™¨æˆ–è€…ç½‘ç»œé”™è¯¯"+e)}).catch(function(e){t.loading2=!1,t.$message.error("æœåŠ¡å™¨æˆ–è€…ç½‘ç»œé”™è¯¯"+res)})}else t.$message({message:"ğŸ˜¡ é‚£ä¹ˆå¤§çš„ç©ºçœ‹ä¸åˆ°å—ï¼Ÿï¼Ÿ",type:"warning"})}},created:function(){this.hosts="http://"+location.hostname+":4000/api/fileupload",this.handleCurrentChange()}},p={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{},[t._m(0,!1,!1),t._v(" "),s("el-form",{attrs:{"label-width":"80px",inline:!0}},[s("el-form-item",{attrs:{label:"æ­Œå•æ ‡ç­¾"}},[s("el-select",{attrs:{clearable:"",placeholder:"æ­Œå•æ ‡ç­¾ç­›é€‰"},model:{value:t.Stag,callback:function(e){t.Stag=e},expression:"Stag"}},[s("el-option",{key:"Hot",attrs:{label:"çƒ­é—¨æ­Œå•",value:"Hot"}}),t._v(" "),s("el-option",{key:"HotSinger",attrs:{label:"äººæ°”æ­Œæ‰‹",value:"HotSinger"}})],1)],1),t._v(" "),s("el-form-item",{attrs:{label:"æ­Œå•çŠ¶æ€"}},[s("el-select",{attrs:{clearable:"",placeholder:"æ­Œå•çŠ¶æ€ç­›é€‰"},model:{value:t.Sstatus,callback:function(e){t.Sstatus=e},expression:"Sstatus"}},[s("el-option",{key:"1",attrs:{label:"å·²ä¸Šçº¿",value:"1"}}),t._v(" "),s("el-option",{key:"0",attrs:{label:"å·²ä¸‹çº¿",value:"0"}})],1)],1),t._v(" "),s("el-form-item",{attrs:{label:"æ­Œå•åç§°"}},[s("el-input",{attrs:{placeholder:"æ­Œå•åç§°"},model:{value:t.Stitle,callback:function(e){t.Stitle=e},expression:"Stitle"}})],1),t._v(" "),s("el-button",{attrs:{type:"success",icon:"el-icon-search"},on:{click:function(e){t.handleCurrentChange()}}},[t._v("æœç´¢")]),t._v(" "),s("el-button",{staticStyle:{float:"right"},attrs:{type:"primary",icon:"el-icon-edit"},on:{click:function(e){t.editSong()}}},[t._v("æ·»åŠ æ­Œå•")])],1),t._v(" "),s("el-table",{attrs:{align:"center","header-align":"center",data:t.songList,height:"calc(100vh - 270px)","row-class-name":t.tableRowClassName}},[s("el-table-column",{attrs:{prop:"id",label:"ID",width:"60px"}}),t._v(" "),s("el-table-column",{attrs:{prop:"title",label:"æ­Œå"}}),t._v(" "),s("el-table-column",{attrs:{prop:"description",label:"æè¿°"}}),t._v(" "),s("el-table-column",{attrs:{prop:"nums",label:"æ­Œæ›²æ•°"}}),t._v(" "),s("el-table-column",{attrs:{prop:"TAG",label:"æ ‡ç­¾"},scopedSlots:t._u([{key:"default",fn:function(e){return["Hot"==e.row.TAG?s("span",[t._v("çƒ­é—¨æ­Œå•")]):t._e(),t._v(" "),"HotSinger"==e.row.TAG?s("span",[t._v("äººæ°”æ­Œæ‰‹")]):t._e()]}}])}),t._v(" "),s("el-table-column",{attrs:{prop:"img",width:"120px",label:"å°é¢å›¾"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("img",{staticClass:"song_img",attrs:{src:e.row.img,alt:""},on:{click:function(s){t.showBigImg(e.row.img)}}})]}}])}),t._v(" "),s("el-table-column",{attrs:{prop:"original_id",label:"æ­Œå•é“¾æ¥"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("a",{staticClass:"links",attrs:{href:"https://www.youtube.com/playlist?list="+e.row.original_id,target:"_blank"}},[t._v("https://www.youtube.com/playlist?list="+t._s(e.row.original_id))])]}}])}),t._v(" "),s("el-table-column",{attrs:{fixed:"right",label:"å¤„ç†",width:"220"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.status?s("el-button",{attrs:{plain:"",type:"success"},on:{click:function(s){t.editStatus(0,e.row.id)}}},[t._v("å·²ä¸Šçº¿")]):t._e(),t._v(" "),0==e.row.status?s("el-button",{attrs:{plain:"",type:"danger"},on:{click:function(s){t.editStatus(1,e.row.id)}}},[t._v("å·²ä¸‹çº¿")]):t._e(),t._v(" "),s("el-button",{attrs:{plain:"",type:"warning"},on:{click:function(s){t.editSong(e.row)}}},[t._v("ä¿® æ”¹")])]}}])})],1),t._v(" "),s("el-pagination",{attrs:{"current-page":t.currentPage,background:"",layout:"prev, pager, next",total:t.total},on:{"current-change":t.handleCurrentChange}}),t._v(" "),s("el-dialog",{attrs:{title:"æŸ¥çœ‹å¤§å›¾",width:"500px",visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[s("img",{staticStyle:{width:"100%"},attrs:{src:t.dialogImg}}),t._v(" "),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{type:"danger"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("å…³ é—­")])],1)]),t._v(" "),s("el-dialog",{attrs:{width:"500px",title:t.title,visible:t.addVisible},on:{"update:visible":function(e){t.addVisible=e}}},[s("img",{staticStyle:{width:"100%"},attrs:{src:t.dialogImg}}),t._v(" "),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{type:"danger",loading:t.loading2},on:{click:function(e){t.pushStatus()}}},[t._v("ç¡® å®š")])],1)]),t._v(" "),s("el-dialog",{attrs:{title:"ç¼–è¾‘æ­Œå•",visible:t.visible2},on:{"update:visible":function(e){t.visible2=e}}},[s("el-form",{attrs:{rules:t.rules,"label-width":"80px"}},[s("el-form-item",{attrs:{label:"æ­Œå•ID"}},[s("el-input",{attrs:{disabled:!0},model:{value:t.song.id,callback:function(e){t.$set(t.song,"id",e)},expression:"song.id"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"æ­Œå•åç§°",prop:"title"}},[s("el-input",{model:{value:t.song.title,callback:function(e){t.$set(t.song,"title",e)},expression:"song.title"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"æ­Œå•é“¾æ¥",prop:"link"}},[s("el-input",{model:{value:t.song.link,callback:function(e){t.$set(t.song,"link",e)},expression:"song.link"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"æ­Œå•æè¿°"}},[s("el-input",{model:{value:t.song.description,callback:function(e){t.$set(t.song,"description",e)},expression:"song.description"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"æ­Œå•æ ‡ç­¾"}},[s("el-radio-group",{model:{value:t.song.TAG,callback:function(e){t.$set(t.song,"TAG",e)},expression:"song.TAG"}},[s("el-radio",{attrs:{label:"HotSinger"}},[t._v("äººæ°”æ­Œæ‰‹")]),t._v(" "),s("el-radio",{attrs:{label:"Hot"}},[t._v("çƒ­é—¨æ­Œå•")]),t._v(" "),s("el-radio",{attrs:{label:""}},[t._v("å…¶ä»–")])],1)],1),t._v(" "),s("el-form-item",{attrs:{label:"å°é¢å›¾ä¸Šä¼ ",prop:"img"}},[s("el-upload",{staticClass:"avatar-uploader",attrs:{action:t.hosts,"show-file-list":!1,"on-success":t.handleImg}},[t.song.img?s("img",{staticClass:"avatar",attrs:{src:t.song.img}}):s("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),t._v(" "),s("el-form-item",{attrs:{label:"ä¸­æ–‡æè¿°"}},[s("el-input",{model:{value:t.song.original_name,callback:function(e){t.$set(t.song,"original_name",e)},expression:"song.original_name"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"æ˜¯å¦ä¸Šçº¿"}},[s("el-radio-group",{model:{value:t.song.status,callback:function(e){t.$set(t.song,"status",e)},expression:"song.status"}},[s("el-radio",{attrs:{label:0}},[t._v("å¦")]),t._v(" "),s("el-radio",{attrs:{label:1}},[t._v("æ˜¯")])],1)],1)],1),t._v(" "),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{type:"success",loading:t.loading2},on:{click:function(e){t.visible2=!1}}},[t._v("å– æ¶ˆ")]),t._v(" "),s("el-button",{attrs:{type:"danger",loading:t.loading2},on:{click:function(e){t.pushSong()}}},[t._v("ç¡®å®š")])],1)],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"pages_tab"},[this._v("å½“å‰é¡µï¼šæ­Œå•ç®¡ç†"),e("i",{staticClass:"el-icon-arrow-right"}),this._v("å…¨éƒ¨æ­Œå•")])}]},d=s("VU/8")(g,p,!1,null,null,null).exports,m={data:function(){return{user:"",pw:""}},methods:{login:function(){if("music"==this.user&&"musicFM"==this.pw){var t="http://"+location.host+"/#/allList";window.open(t,"_self"),sessionStorage.setItem("username","music")}else this.$message.error("è´¦å·å’Œå¯†ç ä¸åŒ¹é…")}},created:function(){if(sessionStorage.getItem("username")){var t="http://"+location.host+"/#/allList";window.open(t,"_self")}}},v={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"login"},[s("img",{staticClass:"logo",attrs:{src:"/static/img/icon-144.png"}}),t._v(" "),t._m(0,!1,!1),t._v(" "),s("div",{staticClass:"login_input"},[s("el-input",{attrs:{placeholder:"è¯·è¾“å…¥å†…å®¹",size:"large"},model:{value:t.user,callback:function(e){t.user=e},expression:"user"}},[s("template",{slot:"prepend"},[t._v("è´¦å·ï¼š")])],2)],1),t._v(" "),s("div",{staticClass:"login_input"},[s("el-input",{attrs:{type:"password",placeholder:"è¯·è¾“å…¥å†…å®¹",size:"large"},model:{value:t.pw,callback:function(e){t.pw=e},expression:"pw"}},[s("template",{slot:"prepend"},[t._v("å¯†ç ï¼š")])],2)],1),t._v(" "),s("div",{staticClass:"login_input"},[s("el-button",{attrs:{type:"primary",size:"large"},on:{click:function(e){t.login()}}},[t._v("ç™»Â Â Â Â å½•")])],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"login_tips"},[this._v("MusicFM"),e("br"),this._v("Operations Management System")])}]},h=s("VU/8")(m,v,!1,function(t){s("e822")},"data-v-be81b824",null).exports;i.default.use(o.a);var f=new o.a({routes:[{path:"/",redirect:"/login"},{path:"/login",component:h},{path:"/allList",component:d}]}),_=s("zL8q"),b=s.n(_);s("tvR6");i.default.use(b.a),i.default.config.debug=!0,new i.default({el:"#app",router:f,template:"<App/>",components:{App:n}})},X2Oc:function(t,e){Date.prototype.Format=function(t){var e={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var s in e)new RegExp("("+s+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?e[s]:("00"+e[s]).substr((""+e[s]).length)));return t}},e822:function(t,e){},tvR6:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.35d3c61baba639cb2e10.js.map