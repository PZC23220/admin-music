webpackJsonp([1],{DXHY:function(t,e){},NHnr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("7+uW"),s={data:function(){return{activeIndex:"/allList"}},created:function(){if(console.log(this.$router.history.current.path),sessionStorage.getItem("username"))this.activeIndex=this.$router.history.current.path;else{var t="http://"+location.host+"/#/login";window.open(t,"_self")}}},n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-container",{attrs:{id:"app"}},[i("el-header",[i("img",{attrs:{src:"/static/img/icon-144.png"}}),t._v(" "),i("span",[t._v("MusicFM Operations Management System")])]),t._v(" "),i("el-container",[i("el-aside",{attrs:{width:"200px"}},[i("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":t.activeIndex,router:!0,"unique-opened":!0}},[i("el-submenu",{attrs:{index:"songList"}},[i("template",{slot:"title"},[i("i",{staticClass:"el-icon-menu"}),t._v("æ­Œå•ç®¡ç†")]),t._v(" "),i("el-menu-item",{attrs:{index:"/allList"}},[t._v("å…¨éƒ¨æ­Œå•")])],2)],1)],1),t._v(" "),i("el-main",[i("router-view")],1)],1)],1)},staticRenderFns:[]},o=i("VU/8")(s,n,!1,function(t){i("DXHY")},null,null).exports,l=i("/ocq"),r=i("mtWM"),c=i.n(r).a.create({baseURL:"http://"+location.hostname+":4000",timeout:2e4});c.interceptors.response.use(function(t){return t.status,t.data},function(t){return console.error("httpè¯·æ±‚å¤±è´¥",t),t}),c.defaults.headers.post["Content-Type"]="application/json";var u=c,d=i("OOjC"),p=i.n(d);i("X2Oc");var g={data:function(){return{ruleForm:{name:"",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:""},rules:{name:[{required:!0,message:"è¯·è¾“å…¥æ´»åŠ¨åç§°",trigger:"blur"},{min:3,max:5,message:"é•¿åº¦åœ¨ 3 åˆ° 5 ä¸ªå­—ç¬¦",trigger:"blur"}],region:[{required:!0,message:"è¯·é€‰æ‹©æ´»åŠ¨åŒºåŸŸ",trigger:"change"}],date1:[{type:"date",required:!0,message:"è¯·é€‰æ‹©æ—¥æœŸ",trigger:"change"}],date2:[{type:"date",required:!0,message:"è¯·é€‰æ‹©æ—¶é—´",trigger:"change"}],type:[{type:"array",required:!0,message:"è¯·è‡³å°‘é€‰æ‹©ä¸€ä¸ªæ´»åŠ¨æ€§è´¨",trigger:"change"}],resource:[{required:!0,message:"è¯·é€‰æ‹©æ´»åŠ¨èµ„æº",trigger:"change"}],desc:[{required:!0,message:"è¯·å¡«å†™æ´»åŠ¨å½¢å¼",trigger:"blur"}]},outerVisible:!1,innerVisible:!1}},methods:{submitForm:function(t){this.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;alert("submit!")})},resetForm:function(t){this.$refs[t].resetFields()}},created:function(){}},f={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{},[t._m(0,!1,!1),t._v(" "),i("div",{staticClass:"main-content-form"},[i("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,rules:t.rules,"label-width":"100px"}},[i("el-form-item",{attrs:{label:"æ­Œå•ç±»å‹",prop:"resource"}},[i("el-radio-group",{model:{value:t.ruleForm.resource,callback:function(e){t.$set(t.ruleForm,"resource",e)},expression:"ruleForm.resource"}},[i("el-radio",{attrs:{label:"çƒ­é—¨æ­Œå•"}}),t._v(" "),i("el-radio",{attrs:{label:"äººæ°”æ­Œæ‰‹"}}),t._v(" "),i("el-radio",{attrs:{label:"å…¨éƒ¨æ­Œå•"}})],1)],1),t._v(" "),t._e(),t._v(" "),i("div",{staticClass:"list-type"},[i("el-form-item",{attrs:{label:"æ­Œæ‰‹åç§°",prop:"name"}},[i("el-input",{model:{value:t.ruleForm.name,callback:function(e){t.$set(t.ruleForm,"name",e)},expression:"ruleForm.name"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"å¤´åƒé“¾æ¥",prop:"name"}},[i("el-input",{model:{value:t.ruleForm.name,callback:function(e){t.$set(t.ruleForm,"name",e)},expression:"ruleForm.name"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"æ­Œå•é“¾æ¥",prop:"name"}},[i("el-input",{model:{value:t.ruleForm.name,callback:function(e){t.$set(t.ruleForm,"name",e)},expression:"ruleForm.name"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"å°é¢å›¾é“¾æ¥",prop:"name"}},[i("el-input",{model:{value:t.ruleForm.name,callback:function(e){t.$set(t.ruleForm,"name",e)},expression:"ruleForm.name"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"åˆ†ç±»æ ‡ç­¾"}}),t._v(" "),i("el-form-item",{attrs:{label:"å›½ç±:",prop:"resource"}},[i("el-radio-group",{model:{value:t.ruleForm.resource,callback:function(e){t.$set(t.ruleForm,"resource",e)},expression:"ruleForm.resource"}},[i("el-radio",{attrs:{label:"æ—¥æœ¬"}}),t._v(" "),i("el-radio",{attrs:{label:"æ¬§ç¾"}}),t._v(" "),i("el-radio",{attrs:{label:"éŸ©å›½"}}),t._v(" "),i("el-radio",{attrs:{label:"å…¶ä»–"}})],1)],1),t._v(" "),i("el-form-item",{attrs:{label:"ç±»åˆ«:",prop:"resource"}},[i("el-radio-group",{model:{value:t.ruleForm.resource,callback:function(e){t.$set(t.ruleForm,"resource",e)},expression:"ruleForm.resource"}},[i("el-radio",{attrs:{label:"ç”·æ­Œæ‰‹"}}),t._v(" "),i("el-radio",{attrs:{label:"å¥³æ­Œæ‰‹"}}),t._v(" "),i("el-radio",{attrs:{label:"ç»„åˆ/ä¹é˜Ÿ"}})],1)],1),t._v(" "),i("el-form-item",[i("el-button",{staticStyle:{width:"250px",height:"50px","font-size":"18px"},attrs:{type:"primary"},on:{click:function(e){t.submitForm("ruleForm")}}},[t._v("æ·»Â Â Â Â Â Â åŠ ")])],1)],1)],1),t._v(" "),i("el-dialog",{attrs:{title:"ç¼–è¾‘æ ‡ç­¾",visible:t.outerVisible,width:"70%"},on:{"update:visible":function(e){t.outerVisible=e}}},[i("p",{staticClass:"tips"},[t._v('æ“ä½œæç¤ºï¼šç‚¹å‡»å¯ä»¥ä¿®æ”¹æ ‡ç­¾åç§°ï¼Œç‚¹"X"å¯ä»¥åˆ é™¤æ ‡ç­¾')]),t._v(" "),i("div",{staticClass:"tag-edit"},[i("span",{staticClass:"tag-edit-span"},[t._v("è¯­ç§:")]),t._v(" "),i("el-button",{attrs:{round:""}},[t._v("æ—¥è¯­"),i("i",{staticClass:"el-icon-close el-icon--right"})]),t._v(" "),i("el-button",{attrs:{round:""}},[t._v("æ¬§ç¾"),i("i",{staticClass:"el-icon-close el-icon--right"})]),t._v(" "),i("el-button",{attrs:{round:""}},[t._v("éŸ©è¯­"),i("i",{staticClass:"el-icon-close el-icon--right"})]),t._v(" "),i("el-button",{attrs:{round:""},on:{click:function(e){t.innerVisible=!0}}},[i("i",{staticClass:"el-icon-plus"})])],1),t._v(" "),i("div",{staticClass:"tag-edit"},[i("span",{staticClass:"tag-edit-span"},[t._v("é£æ ¼:")]),t._v(" "),i("el-button",{attrs:{round:""}},[t._v("æµè¡Œ"),i("i",{staticClass:"el-icon-close el-icon--right"})]),t._v(" "),i("el-button",{attrs:{round:""}},[t._v("æ‘‡æ»š"),i("i",{staticClass:"el-icon-close el-icon--right"})]),t._v(" "),i("el-button",{attrs:{round:""}},[t._v("ç”µéŸ³"),i("i",{staticClass:"el-icon-close el-icon--right"})]),t._v(" "),i("el-button",{attrs:{round:""}},[t._v("è¯´å”±"),i("i",{staticClass:"el-icon-close el-icon--right"})]),t._v(" "),i("el-button",{attrs:{round:""}},[t._v("è½»éŸ³ä¹"),i("i",{staticClass:"el-icon-close el-icon--right"})]),t._v(" "),i("el-button",{attrs:{round:""},on:{click:function(e){t.innerVisible=!0}}},[i("i",{staticClass:"el-icon-plus"})])],1),t._v(" "),i("div",{staticClass:"tag-edit"},[i("span",{staticClass:"tag-edit-span"},[t._v("æƒ…æ„Ÿ:")]),t._v(" "),i("el-button",{attrs:{round:""}},[t._v("ä¼¤æ„Ÿ"),i("i",{staticClass:"el-icon-close el-icon--right"})]),t._v(" "),i("el-button",{attrs:{round:""}},[t._v("å…´å¥‹"),i("i",{staticClass:"el-icon-close el-icon--right"})]),t._v(" "),i("el-button",{attrs:{round:""}},[t._v("æ²»æ„ˆ"),i("i",{staticClass:"el-icon-close el-icon--right"})]),t._v(" "),i("el-button",{attrs:{round:""}},[t._v("æµªæ¼«"),i("i",{staticClass:"el-icon-close el-icon--right"})]),t._v(" "),i("el-button",{attrs:{round:""},on:{click:function(e){t.innerVisible=!0}}},[i("i",{staticClass:"el-icon-plus"})])],1),t._v(" "),i("div",{staticClass:"tag-edit"},[i("span",{staticClass:"tag-edit-span"},[t._v("ä¸»é¢˜:")]),t._v(" "),i("el-button",{attrs:{round:""}},[t._v("ç»å…¸"),i("i",{staticClass:"el-icon-close el-icon--right"})]),t._v(" "),i("el-button",{attrs:{round:""}},[t._v("åŠ¨æ¼«"),i("i",{staticClass:"el-icon-close el-icon--right"})]),t._v(" "),i("el-button",{attrs:{round:""},on:{click:function(e){t.innerVisible=!0}}},[i("i",{staticClass:"el-icon-plus"})])],1),t._v(" "),i("el-dialog",{attrs:{width:"30%",title:"å†…å±‚ Dialog",visible:t.innerVisible,"append-to-body":""},on:{"update:visible":function(e){t.innerVisible=e}}},[i("div",{staticClass:"tag-edit"},[i("el-input",{attrs:{placeholder:"åç§°"},model:{value:t.ruleForm.name,callback:function(e){t.$set(t.ruleForm,"name",e)},expression:"ruleForm.name"}},[i("template",{slot:"prepend"},[t._v("åç§°:")])],2)],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.innerVisible=!1}}},[t._v("å– æ¶ˆ")]),t._v(" "),i("el-button",{on:{click:function(e){t.innerVisible=!1}}},[t._v("å®Œ æˆ")])],1)]),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.outerVisible=!1}}},[t._v("å– æ¶ˆ")]),t._v(" "),i("el-button",{on:{click:function(e){t.outerVisible=!1}}},[t._v("å®Œ æˆ")])],1)],1)],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"pages_tab"},[this._v("å½“å‰é¡µï¼šæ­Œå•ç®¡ç†"),e("i",{staticClass:"el-icon-arrow-right"}),this._v("æ·»åŠ æ­Œå•")])}]},v=i("VU/8")(g,f,!1,null,null,null).exports;i("X2Oc");var m={data:function(){return{Sname:"",transactionsList:[],summaries:{},dialogVisible:!1,dialogImg:"",addVisible:!1,currentPage:1,total:0,Sidol:"",Sfans:"",targetType:""}},methods:{handleCurrentChange:function(t){var e=this;e.currentPage=t||1,u.get("/api/transactions",{params:{page:e.currentPage,idolId:e.Sidol,fansId:e.Sfans,targetType:e.targetType}}).then(function(t){e.transactionsList=t.data,e.total=t.total})},formatTime:function(t){return new Date(t).Format("yyyy.MM.dd hh:mm:ss")},showBigImg:function(t){this.dialogImg=t,this.dialogVisible=!0}},created:function(){}},_={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{},[t._m(0,!1,!1),t._v(" "),i("el-form",{attrs:{"label-width":"80px",inline:!0}},[i("el-form-item",{attrs:{label:"æœç´¢æ­Œå•"}},[i("el-input",{attrs:{placeholder:"æœç´¢æ­Œå•"},model:{value:t.Sname,callback:function(e){t.Sname=e},expression:"Sname"}})],1),t._v(" "),i("el-button",{attrs:{type:"primary",icon:"search"},on:{click:function(e){t.handleCurrentChange()}}},[t._v("æœç´¢")])],1),t._v(" "),i("el-table",{attrs:{data:t.transactionsList,height:"calc(100vh - 310px)"}},[i("el-table-column",{attrs:{prop:"id",label:"id"}}),t._v(" "),i("el-table-column",{attrs:{label:"æ ‡é¢˜",prop:"user_type"}}),t._v(" "),i("el-table-column",{attrs:{label:"æ ‡ç­¾",prop:"user_type"}}),t._v(" "),i("el-table-column",{attrs:{label:"æ’­æ”¾æ¬¡æ•°",prop:"user_type"}}),t._v(" "),i("el-table-column",{attrs:{label:"çŠ¶æ€"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.active?i("span",[t._v("å·²ä¸Šçº¿")]):t._e(),t._v(" "),0==e.row.active?i("span",[t._v("å·²ä¸‹çº¿")]):t._e(),t._v(" "),0==e.row.active?i("span",[t._v("æ”¶å½•å¤±è´¥")]):t._e(),t._v(" "),0==e.row.active?i("span",[t._v("æ”¶å½•ä¸­")]):t._e()]}}])}),t._v(" "),i("el-table-column",{attrs:{fixed:"right",label:"å¤„ç†",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.active?i("span",[t._v("ä¸å¯æ“ä½œ")]):t._e(),t._v(" "),i("el-button",{staticStyle:{"margin-bottom":"10px"},attrs:{type:"success"},on:{click:function(i){t.addGift(e.row.id)}}},[t._v("ä¸‹ çº¿")]),t._v(" "),1==e.row.active?i("el-button",{staticStyle:{"margin-bottom":"10px"},attrs:{type:"danger"},on:{click:function(i){t.delIdol(e.row.id,0)}}},[t._v("ä¸Š çº¿")]):t._e(),t._v(" "),1==e.row.active?i("el-button",{staticStyle:{"margin-bottom":"10px"},attrs:{type:"danger"},on:{click:function(i){t.delIdol(e.row.id,0)}}},[t._v("åˆ  é™¤")]):t._e(),t._v(" "),0==e.row.active?i("el-button",{staticStyle:{"margin-bottom":"10px"},attrs:{type:"warning"},on:{click:function(i){t.delIdol(e.row.id,1)}}},[t._v("ä¿® æ”¹")]):t._e()]}}])})],1),t._v(" "),i("div",{staticClass:"block"},[i("el-pagination",{attrs:{"current-page":t.currentPage,layout:"prev, pager, next",total:t.total},on:{"current-change":t.handleCurrentChange}})],1),t._v(" "),i("el-dialog",{attrs:{title:"æŸ¥çœ‹å¤§å›¾",visible:t.dialogVisible,"modal-append-to-body":!1},on:{"update:visible":function(e){t.dialogVisible=e}}},[i("img",{staticStyle:{width:"100%"},attrs:{src:t.dialogImg}}),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"danger"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("å…³ é—­")])],1)])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"pages_tab"},[this._v("å½“å‰é¡µï¼šæ­Œå•ç®¡ç†"),e("i",{staticClass:"el-icon-arrow-right"}),this._v("çƒ­é—¨æ­Œå•")])}]},b=i("VU/8")(m,_,!1,function(t){i("zw2w")},"data-v-60ee992d",null).exports,h=i("mvHQ"),y=i.n(h);i("X2Oc");var k={data:function(){return{idolList:[],dialogVisible:!1,dialogImg:"",dialogH5:!1,dialogURL:"",addVisible:!1,addVisible2:!1,loading2:!1,currentPage:1,visible:!1,visible2:!1,visible3:!1,visible4:!1,visible5:!1,fake:!0,total:0,idolId:"",active:0,free_first_month:!1,idolType:"",giftList:[],fansList:[],fansList2:[],myFansList:[],fansListFree:[],host_:"http://admin.groupy.cn/",fansInfo:{id:"",time:"1",fans:[],gprice:0},fansInfo2:{id:"",fans:[]},messageInfo:{id:""},giftInfo:{id:"",fans:"",gift:"",nums:1},Snickname:"",SidolType:"",fakeFansList:[],realFansList:[]}},methods:{seeFans:function(t){var e=this;u.get("/api/group_fans_item/list?type=fake&idol_id="+t).then(function(t){t.length>0?e.fakeFansList=t:e.fakeFansList=[]}),u.get("/api/group_fans_item/list?type=real&idol_id="+t).then(function(t){t.length>0?e.realFansList=t:e.realFansList=[]}),e.visible5=!0},seeAttention:function(t){var e=this;u.get("/api/idol_follows/list?type=fake&idol_id="+t).then(function(t){t.length>0?e.fakeFansList=t:e.fakeFansList=[]}),u.get("/api/idol_follows/list?type=real&idol_id="+t).then(function(t){t.length>0?e.realFansList=t:e.realFansList=[]}),e.visible5=!0},tableRowClassName:function(t){var e=t.row;t.index;return 1!=e.active?"del-row":""},updataStatus:function(t,e){var i=this;i.loading2=!0;var a;a=0==t?1:0,u.get("/api/shows/edit_status",{params:{id:e,active:a}}).then(function(t){i.loading2=!1,t.success?(i.$message({message:"å¥½äº†ï¼Œå·²ç»å¸®ä½ åŠ åˆ°æ•°æ®åº“äº†ï¼Œä¸Šçº¿/ä¸‹çº¿æ´»åŠ¨æˆåŠŸ",type:"success"}),u.get("/api/shows/list").then(function(t){console.log(t),i.activityList=t})):i.$message.error("ä¸çŸ¥é“ä¸ºä»€ä¹ˆï¼Œä¸Šçº¿/ä¸‹çº¿æ´»åŠ¨å¤±è´¥äº†")}).catch(function(t){i.loading2=!1,i.$message.error("å¯èƒ½æ˜¯ä½ çš„ç ´ç½‘æ–­äº†ï¼Œä¹Ÿå¯èƒ½æ˜¯æœåŠ¡å™¨é‡å¯äº†ï¼Œç­‰ä¸€ä¸‹å†è¯•å¥½å—ï¼Ÿ")})},addFans:function(t,e){var i=this;i.addVisible=!0,i.fansInfo.id=t,i.free_first_month=1==e,u.get("/api/group_fans_item/select",{params:{idol_id:t}}).then(function(t){if(t.length>0)for(var e in i.fansListFree)for(var a in t)i.fansListFree[e].id==t[a]&&i.fansListFree.splice(e,1)})},addAttention:function(t){this.addVisible2=!0,this.fansInfo2.id=t},addMessage:function(t){var e=this;this.dialogVisible=!0,this.messageInfo.id=t,p()(".msg").val(""),u.get(e.host_+"api/v1/idols/"+t+"/fans?type=fake").then(function(t){if(t.length>0){e.fake=!1;var i=t.sort(function(){return.5-Math.random()});e.myFansList=i,console.log(e.myFansList)}}).catch(function(t){console.log(t)})},addGift:function(t){var e=this;this.visible2=!0,this.giftInfo.id=t,u.get(e.host_+"api/v1/idols/"+t+"/fans?type=fake").then(function(t){console.log(t),t.length>0&&(e.fake=!1,e.myFansList=t)}),u.get("/api/gift/list").then(function(t){console.log(t),e.giftList=t}).catch(function(t){console.log(t)})},delIdol:function(t,e){this.visible=!0,this.idolId=t,this.active=e},sureDelIdol:function(){var t=this;t.loading2=!0,u.get("/api/idol/del",{params:{id:t.idolId,active:t.active}}).then(function(e){t.loading2=!1,e.success?(t.$message({message:"çˆ±è±†ä¸‹çº¿ï¼å¯ç”¨æˆåŠŸäº†ï¼",type:"success"}),t.visible=!1,u.get("/api/idol/list").then(function(e){console.log(e),t.idolList=e}),t.currentPage=1):t.$message.error(e.msg)}).catch(function(){t.$message.error("å¯èƒ½æ˜¯ä½ çš„ç ´ç½‘æ–­äº†ï¼Œä¹Ÿå¯èƒ½æ˜¯æœåŠ¡å™¨é‡å¯äº†ï¼Œç­‰ä¸€ä¸‹å†è¯•å¥½å—ï¼Ÿ"),t.loading2=!1})},pushFans:function(){var t=this,e=t.fansInfo.fans;if(e.length>0){t.loading2=!0;for(var i in e)u.get(t.host_+"api/v1/idols/"+t.fansInfo.id+"/fans/"+e[i]+"/"+t.fansInfo.time).then(function(e){e?e.body||(console.log(e),t.loading2=!1,t.$message.error("æœåŠ¡å™¨æˆ–è€…ç½‘ç»œé”™è¯¯"+e)):(t.$message({message:"æˆåŠŸæ·»åŠ ç²‰ä¸",type:"success"}),t.addVisible=!1,t.loading2=!1,t.handleCurrentChange())})}else t.$message({message:"ä½ è¿˜æ²¡æœ‰é€‰æ‹©è™šæ‹Ÿç²‰ä¸",type:"warning"})},pushAttention:function(){var t=this,e=t.fansInfo2.fans;if(e.length>0){t.loading2=!0;for(var i in e)u.get("/api/idol_follows/add",{params:{fans_id:e[i],idol_id:t.fansInfo2.id}}).then(function(e){e.success?(t.$message({message:"æˆåŠŸæ·»åŠ ç²‰ä¸",type:"success"}),t.addVisible2=!1,t.loading2=!1,t.handleCurrentChange()):(t.loading2=!1,t.$message.error("æœåŠ¡å™¨æˆ–è€…ç½‘ç»œé”™è¯¯"+e))})}else t.$message({message:"ä½ è¿˜æ²¡æœ‰é€‰æ‹©è™šæ‹Ÿç²‰ä¸",type:"warning"})},pushGift:function(){var t=this;t.giftInfo.fans&&t.giftInfo.gift?(t.loading2=!0,u.get(t.host_+"api/v1/gifts/buy",{params:{giftId:t.giftInfo.gift,fansId:t.giftInfo.fans,idolId:t.giftInfo.id,count:t.giftInfo.nums}}).then(function(e){e?e.body||(console.log(e),t.loading2=!1,t.$message.error("æœåŠ¡å™¨æˆ–è€…ç½‘ç»œé”™è¯¯"+e)):(t.$message({message:"æˆåŠŸåº”æ´çˆ±è±†ï¼",type:"success"}),t.visible2=!1,t.loading2=!1,t.handleCurrentChange())})):t.$message({message:"æ²¡æœ‰é€‰æ‹©è™šæ‹Ÿç²‰ä¸æˆ–è€…ç¤¼ç‰©éƒ½ä¸èƒ½åº”æ´",type:"warning"})},pushMessage:function(){var t=this;p()(".msg").each(function(){if(p()(this).val()){t.loading2=!0;var e={targetType:3,content:p()(this).val()};u.post(t.host_+"api/v1/idols/"+t.messageInfo.id+"/comments/"+p()(this).attr("data-id"),y()(e)).then(function(e){e?e.body||(console.log(e),t.loading2=!1,t.$message.error("æœåŠ¡å™¨æˆ–è€…ç½‘ç»œé”™è¯¯ï¼Œ"+e)):(t.$message({message:"å‘å¸ƒç•™è¨€æˆåŠŸï¼",type:"success"}),t.handleClose())})}})},handleClose:function(){p()(".msg").val(""),this.dialogVisible=!1,this.loading2=!1},editIdolType:function(t,e){this.idolId=t,this.idolType=e,this.visible4=!0},pushIdolType:function(){var t=this;t.loading2=!1,t.idolType&&"N/A"!=t.idolType?u.get("/api/user_idol_detail/edit_branch_office",{params:{id:t.idolId,branch_office:t.idolType}}).then(function(e){e.success?(t.loading2=!1,t.visible4=!1,u.get("/api/idol/list").then(function(e){t.idolList=e}),t.$message({message:"ä¿®æ”¹idolæ ‡è¯†æˆåŠŸï¼",type:"success"})):t.$message.error("æœåŠ¡å™¨æˆ–è€…ç½‘ç»œé”™è¯¯ï¼Œ"+e)}):t.$message({message:"ä½ è¿˜æ²¡æœ‰é€‰idolç±»å‹æ ‡è¯†å‘¢ï¼ï¼ï¼ï¼",type:"warning"})},handleCurrentChange:function(t){var e=this;e.currentPage=t||1,u.get("/api/idol/list",{params:{page:e.currentPage,pageNum:10,nickname:e.Snickname,branch_office:e.SidolType}}).then(function(t){e.idolList=t}),u.get("/api/idol/count",{params:{nickname:e.Snickname}}).then(function(t){console.log(t),e.total=t[0].count}).catch(function(t){console.log(t)})},showBigImg:function(t){this.visible3=!0,this.dialogImg=t}},created:function(){var t=this;"opt.groupy.cn"==location.host?t.host_="http://admin.groupy.cn/":t.host_="http://admin.groupy.cn/test/",u.get("/api/idol/list").then(function(e){console.log(e),t.idolList=e}).catch(function(t){console.log(t)}),u.get("/api/idol/count").then(function(e){t.total=e[0].count}).catch(function(t){console.log(t)}),u.get("/api/virtual_user/list").then(function(e){t.fansList=e,t.fansListFree=t.fansList}).catch(function(t){console.log(t)})}},w={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{},[t._m(0,!1,!1),t._v(" "),i("el-form",{attrs:{"label-width":"80px",inline:!0}},[i("el-form-item",{attrs:{label:"çˆ±è±†æ˜µç§°"}},[i("el-input",{attrs:{placeholder:"çˆ±è±†æ˜µç§°"},model:{value:t.Snickname,callback:function(e){t.Snickname=e},expression:"Snickname"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"çˆ±è±†ç±»å‹"}},[i("el-select",{attrs:{clearable:"",placeholder:"è§†é¢‘çŠ¶æ€ç­›é€‰"},model:{value:t.SidolType,callback:function(e){t.SidolType=e},expression:"SidolType"}},[i("el-option",{key:"groupy",attrs:{label:"Groupyå†…æµ‹",value:"groupy"}}),t._v(" "),i("el-option",{key:"idol",attrs:{label:"çœŸÂ·çˆ±è±†",value:"idol"}}),t._v(" "),i("el-option",{key:"passerby",attrs:{label:"è·¯äººç”²",value:"passerby"}})],1)],1),t._v(" "),i("el-button",{attrs:{type:"primary",icon:"search"},on:{click:function(e){t.handleCurrentChange()}}},[t._v("æœç´¢")])],1),t._v(" "),i("el-table",{attrs:{"default-sort":{prop:"date",order:"descending"},data:t.idolList,"row-class-name":t.tableRowClassName,height:"calc(100vh - 310px)"}},[i("el-table-column",{attrs:{fixed:"",prop:"id",label:"id",width:"80"}}),t._v(" "),i("el-table-column",{attrs:{prop:"nickname",label:"æ˜µç§°"}}),t._v(" "),i("el-table-column",{attrs:{label:"å¤´åƒ",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("img",{staticStyle:{padding:"5px 5px 0 0",width:"100%","box-sizing":"border-box"},attrs:{src:e.row.avatar},on:{click:function(i){t.showBigImg(e.row.avatar)}}})]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"idolç±»å‹"},scopedSlots:t._u([{key:"default",fn:function(e){return["groupy"==e.row.branch_office?i("el-button",{attrs:{type:"primary"},on:{click:function(i){t.editIdolType(e.row.id,e.row.branch_office)}}},[t._v("Groupyå†…æµ‹")]):t._e(),t._v(" "),"idol"==e.row.branch_office?i("el-button",{attrs:{type:"primary"},on:{click:function(i){t.editIdolType(e.row.id,e.row.branch_office)}}},[t._v("çœŸÂ·çˆ±è±†")]):t._e(),t._v(" "),"passerby"==e.row.branch_office?i("el-button",{attrs:{type:"primary"},on:{click:function(i){t.editIdolType(e.row.id,e.row.branch_office)}}},[t._v("è·¯äººç”²")]):t._e(),t._v(" "),"N/A"==e.row.branch_office?i("el-button",{attrs:{type:"primary"},on:{click:function(i){t.editIdolType(e.row.id,e.row.branch_office)}}},[t._v("æ·»åŠ æ ‡è¯†")]):t._e()]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"æ‰€å±å›¢ä½“",prop:"organizationName"}}),t._v(" "),i("el-table-column",{attrs:{label:"ç²‰ä¸æ€»æ•° realï¼fake"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"primary"},on:{click:function(i){t.seeFans(e.row.id)}}},[t._v(t._s(e.row.fans_count_real)+"ï¼"+t._s(e.row.fans_count_fake))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"å…³æ³¨æ€»æ•° realï¼fake"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"primary"},on:{click:function(i){t.seeAttention(e.row.id)}}},[t._v(t._s(e.row.fans_attention_real)+"ï¼"+t._s(e.row.fans_attention_fake))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"SNS"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.sns_uid_tw?i("a",{attrs:{href:"https://twitter.com/intent/user?user_id="+e.row.sns_uid_tw,target:"_block"}},[t._v("twitter")]):t._e(),t._v("Â Â \n\t\t    \t\t"),e.row.sns_uid_fb?i("a",{attrs:{href:"https://facebook.com/"+e.row.sns_uid_fb,target:"_block"}},[t._v("facebook")]):t._e()]}}])}),t._v(" "),i("el-table-column",{attrs:{fixed:"right",label:"å¤„ç†",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{staticStyle:{"margin-bottom":"10px","margin-top":"10px"},attrs:{type:"warning"},on:{click:function(i){t.addFans(e.row.id,e.row.free_first_month)}}},[t._v("åŠ Â Â ç²‰")]),t._v(" "),i("el-button",{staticStyle:{"margin-bottom":"10px","margin-top":"10px",background:"#9C0DA4","border-color":"#9C0DA4"},attrs:{type:"warning"},on:{click:function(i){t.addAttention(e.row.id)}}},[t._v("å…³Â Â æ³¨")]),t._v(" "),i("el-button",{staticStyle:{"margin-bottom":"10px","margin-left":"0px","margin-top":"10px"},attrs:{type:"primary"},on:{click:function(i){t.addMessage(e.row.id)}}},[t._v("ç•™Â Â è¨€")]),t._v(" "),i("el-button",{staticStyle:{"margin-bottom":"10px"},attrs:{type:"success"},on:{click:function(i){t.addGift(e.row.id)}}},[t._v("åº”Â Â æ´")]),t._v(" "),1==e.row.active?i("el-button",{staticStyle:{"margin-bottom":"10px"},attrs:{type:"danger"},on:{click:function(i){t.delIdol(e.row.id,0)}}},[t._v("ç¦Â Â ç”¨")]):t._e(),t._v(" "),0==e.row.active?i("el-button",{staticStyle:{"margin-bottom":"10px"},attrs:{type:"warning"},on:{click:function(i){t.delIdol(e.row.id,1)}}},[t._v("å¯Â Â ç”¨")]):t._e()]}}])})],1),t._v(" "),i("div",{staticClass:"block"},[i("el-pagination",{attrs:{"current-page":t.currentPage,layout:"prev, pager, next",total:t.total},on:{"current-change":t.handleCurrentChange}})],1),t._v(" "),i("el-dialog",{attrs:{title:"æ·»åŠ è™šæ‹Ÿç²‰ä¸",top:"80px","modal-append-to-body":!1,width:"70%",visible:t.addVisible},on:{"update:visible":function(e){t.addVisible=e}}},[i("el-input",{attrs:{placeholder:"çˆ±è±†ID",disabled:!0},model:{value:t.fansInfo.id,callback:function(e){t.$set(t.fansInfo,"id",e)},expression:"fansInfo.id"}},[i("template",{slot:"prepend"},[t._v("çˆ±è±†ID")])],2),t._v(" "),i("div",[t._v("\n          \té€‰æ‹©è™šæ‹Ÿç²‰ä¸ï¼š\n          \t"),i("el-select",{attrs:{multiple:"",placeholder:"è¯·é€‰æ‹©ç²‰ä¸"},model:{value:t.fansInfo.fans,callback:function(e){t.$set(t.fansInfo,"fans",e)},expression:"fansInfo.fans"}},t._l(t.fansListFree,function(t){return i("el-option",{key:t.id,attrs:{label:t.nickname,value:t.id}})}))],1),t._v(" "),i("div",[t._v("\n          \té€‰æ‹©å…¥ä¼šæ—¶é—´ï¼š\n          \t"),i("el-select",{attrs:{placeholder:"è¯·é€‰æ‹©å…¥ä¼šæ—¶é—´"},model:{value:t.fansInfo.time,callback:function(e){t.$set(t.fansInfo,"time",e)},expression:"fansInfo.time"}},[t.free_first_month?i("el-option",{key:"0",attrs:{label:"7å¤©é™å…",value:"0"}}):t._e(),t._v(" "),i("el-option",{key:"1",attrs:{label:"ä¸€ä¸ªæœˆ",value:"1"}}),t._v(" "),i("el-option",{key:"2",attrs:{label:"ä¸‰ä¸ªæœˆ",value:"2"}}),t._v(" "),i("el-option",{key:"3",attrs:{label:"å…­ä¸ªæœˆ",value:"3"}})],1)],1),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"success",loading:t.loading2},on:{click:function(e){t.pushFans()}}},[t._v("åŠ  ç²‰")]),t._v(" "),i("el-button",{attrs:{type:"danger"},on:{click:function(e){t.addVisible=!1}}},[t._v("å– æ¶ˆ")])],1)],1),t._v(" "),i("el-dialog",{attrs:{title:"æ·»åŠ å…³æ³¨",top:"80px","modal-append-to-body":!1,width:"70%",visible:t.addVisible2},on:{"update:visible":function(e){t.addVisible2=e}}},[i("el-input",{attrs:{placeholder:"çˆ±è±†ID",disabled:!0},model:{value:t.fansInfo2.id,callback:function(e){t.$set(t.fansInfo2,"id",e)},expression:"fansInfo2.id"}},[i("template",{slot:"prepend"},[t._v("çˆ±è±†ID")])],2),t._v(" "),i("div",[t._v("\n          \té€‰æ‹©è™šæ‹Ÿç²‰ä¸ï¼š\n          \t"),i("el-select",{attrs:{multiple:"",placeholder:"è¯·é€‰æ‹©ç²‰ä¸"},model:{value:t.fansInfo2.fans,callback:function(e){t.$set(t.fansInfo2,"fans",e)},expression:"fansInfo2.fans"}},t._l(t.fansListFree,function(t){return i("el-option",{key:t.id,attrs:{label:t.nickname,value:t.id}})}))],1),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"success",loading:t.loading2},on:{click:function(e){t.pushAttention()}}},[t._v("å…³ æ³¨")]),t._v(" "),i("el-button",{attrs:{type:"danger"},on:{click:function(e){t.addVisible2=!1}}},[t._v("å– æ¶ˆ")])],1)],1),t._v(" "),i("el-dialog",{attrs:{title:"æ·»åŠ ç•™è¨€",width:"70%",top:"80px",visible:t.dialogVisible,"modal-append-to-body":!1,"before-close":t.handleClose},on:{"update:visible":function(e){t.dialogVisible=e}}},[i("p",[t._v("å¦‚æœidolæ²¡æœ‰è™šæ‹Ÿç²‰ä¸ï¼Œé‚£ä¹ˆä½ åº”è¯¥å…ˆå»ç»™å¥¹åŠ ç²‰ï¼Œæœ‰äº†è™šæ‹Ÿç²‰ä¸æ‰èƒ½åœ¨è¿™ç•™è¨€")]),t._v(" "),i("el-input",{attrs:{placeholder:"çˆ±è±†ID",disabled:!0},model:{value:t.messageInfo.id,callback:function(e){t.$set(t.messageInfo,"id",e)},expression:"messageInfo.id"}},[i("template",{slot:"prepend"},[t._v("çˆ±è±†ID")])],2),t._v(" "),t._l(t.myFansList,function(e,a){return a<5?i("div",[i("img",{attrs:{src:e.avatar,width:"50px"}}),t._v(" "),i("textarea",{staticClass:"msg",staticStyle:{width:"calc(100% - 70px)",float:"right",border:"1px solid rgb(191, 203, 217)","border-radius":"4px",height:"50px",padding:"5px"},attrs:{"data-id":e.id,placeholder:"è¯·è¾“å…¥å†…å®¹"}})]):t._e()}),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"danger"},on:{click:function(e){t.handleClose()}}},[t._v("å…³ é—­")]),t._v(" "),i("el-button",{attrs:{type:"success",disabled:t.fake,loading:t.loading2},on:{click:function(e){t.pushMessage()}}},[t._v("æäº¤ç•™è¨€")])],1)],2),t._v(" "),i("el-dialog",{attrs:{title:"åº”æ´",top:"80px",visible:t.visible2,"modal-append-to-body":!1},on:{"update:visible":function(e){t.visible2=e}}},[i("p",[t._v("å¦‚æœidolæ²¡æœ‰è™šæ‹Ÿç²‰ä¸ï¼Œé‚£ä¹ˆä½ åº”è¯¥å…ˆå»ç»™å¥¹åŠ ç²‰ï¼Œæœ‰äº†è™šæ‹Ÿç²‰ä¸æ‰èƒ½åœ¨è¿™åº”æ´")]),t._v(" "),i("el-input",{attrs:{placeholder:"çˆ±è±†ID",disabled:!0},model:{value:t.giftInfo.id,callback:function(e){t.$set(t.giftInfo,"id",e)},expression:"giftInfo.id"}},[i("template",{slot:"prepend"},[t._v("çˆ±è±†ID")])],2),t._v(" "),i("div",[t._v("\n\t          \té€‰æ‹©ç²‰ä¸ï¼š\n\t          \t"),i("el-select",{attrs:{placeholder:"è¯·é€‰æ‹©ç²‰ä¸"},model:{value:t.giftInfo.fans,callback:function(e){t.$set(t.giftInfo,"fans",e)},expression:"giftInfo.fans"}},t._l(t.myFansList,function(t){return i("el-option",{key:t.id,attrs:{label:t.nickname,value:t.id}})}))],1),t._v(" "),i("div",[t._v("\n\t\t\t\té€‰æ‹©ç¤¼ç‰©ï¼š\n\t\t\t\t"),i("el-select",{attrs:{placeholder:"è¯·é€‰æ‹©ç¤¼ç‰©"},model:{value:t.giftInfo.gift,callback:function(e){t.$set(t.giftInfo,"gift",e)},expression:"giftInfo.gift"}},t._l(t.giftList,function(t){return i("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1),t._v(" "),i("div",[t._v("\n\t\t\t\tç¤¼ç‰©æ•°é‡ï¼š\n\t\t\t\t"),i("el-input-number",{attrs:{min:1},model:{value:t.giftInfo.nums,callback:function(e){t.$set(t.giftInfo,"nums",e)},expression:"giftInfo.nums"}})],1),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"danger"},on:{click:function(e){t.visible2=!1}}},[t._v("å…³ é—­")]),t._v(" "),i("el-button",{attrs:{type:"success",disabled:t.fake,loading:t.loading2},on:{click:function(e){t.pushGift()}}},[t._v("åº” æ´")])],1)],1),t._v(" "),i("el-dialog",{attrs:{title:"ä½ ç‚¹äº†ç¦ç”¨idol",top:"80px",visible:t.visible,"modal-append-to-body":!1},on:{"update:visible":function(e){t.visible=e}}},[i("span",[t._v("ä½ ç¡®å®šè¦ä¸‹çº¿è¿™ä¸ªidol(idolID"+t._s(t.idolId)+")å—ï¼Ÿï¼Ÿï¼Ÿ")]),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.visible=!1}}},[t._v("å– æ¶ˆ")]),t._v(" "),i("el-button",{attrs:{type:"danger",loading:t.loading2},on:{click:function(e){t.sureDelIdol()}}},[t._v("ç¡® å®š")])],1)]),t._v(" "),i("el-dialog",{attrs:{title:"æŸ¥çœ‹å¤§å›¾",top:"80px",width:"500px",visible:t.visible3,"modal-append-to-body":!1},on:{"update:visible":function(e){t.visible3=e}}},[i("img",{staticStyle:{width:"100%"},attrs:{src:t.dialogImg}}),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"danger"},on:{click:function(e){t.visible3=!1}}},[t._v("å…³ é—­")])],1)]),t._v(" "),i("el-dialog",{attrs:{title:"ä¿®æ”¹idolæ ‡è¯†",visible:t.visible4,"modal-append-to-body":!1},on:{"update:visible":function(e){t.visible4=e}}},[[i("el-radio",{staticClass:"radio",attrs:{label:"idol"},model:{value:t.idolType,callback:function(e){t.idolType=e},expression:"idolType"}},[t._v("çœŸÂ·çˆ±è±†")]),t._v(" "),i("el-radio",{staticClass:"radio",attrs:{label:"groupy"},model:{value:t.idolType,callback:function(e){t.idolType=e},expression:"idolType"}},[t._v("Groupyå†…æµ‹")]),t._v(" "),i("el-radio",{staticClass:"radio",attrs:{label:"passerby"},model:{value:t.idolType,callback:function(e){t.idolType=e},expression:"idolType"}},[t._v("è·¯äººç”²")])],t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"danger"},on:{click:function(e){t.visible4=!1}}},[t._v("å…³ é—­")]),t._v(" "),i("el-button",{attrs:{type:"success"},on:{click:function(e){t.pushIdolType()}}},[t._v("æ äº¤")])],1)],2),t._v(" "),i("el-dialog",{attrs:{title:"æŸ¥çœ‹idolçœŸå‡ç²‰",visible:t.visible5,"modal-append-to-body":!1},on:{"update:visible":function(e){t.visible5=e}}},[i("div",{staticStyle:{overflow:"hidden"}},[i("ul",{staticStyle:{float:"left",width:"47%","line-height":"30px","border-right":"1px solid #000"}},[i("h3",[t._v("çœŸç²‰")]),t._v(" "),t._l(t.realFansList,function(e){return i("li",[t._v(t._s(e.id)+"Â Â Â Â "+t._s(e.nickname))])})],2),t._v(" "),i("ul",{staticStyle:{float:"right",width:"47%","line-height":"30px","list-style":"none"}},[i("h3",[t._v("å‡ç²‰")]),t._v(" "),t._l(t.fakeFansList,function(e){return i("li",[t._v(t._s(e.id)+"Â Â Â Â "+t._s(e.nickname))])})],2)]),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"danger"},on:{click:function(e){t.visible5=!1}}},[t._v("å…³ é—­")])],1)])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"pages_tab"},[this._v("å½“å‰é¡µï¼šç”¨æˆ·ç®¡ç†"),e("i",{staticClass:"el-icon-arrow-right"}),this._v("çˆ±è±†ç®¡ç†")])}]},C=i("VU/8")(k,w,!1,null,null,null).exports;i("X2Oc");var I={data:function(){return{songList:[],dialogVisible:!1,dialogImg:"",addVisible:!1,loading2:!1,visible2:!1,currentPage:1,id:"",total:0,idolname:"",Stitle:"",title:"",Stag:"",hosts:"http://opt.groupy.cn/api/fileupload",Status:1,idolType:"idol",song:{id:"",title:"",description:"",img:"",TAG:"",original_name:"",link:"",status:1},rules:{title:[{required:!0,message:"è¯·è¾“å…¥æ­Œå•åç§°",trigger:"blur"}],link:[{required:!0,message:"è¯·è¾“å…¥æ­Œå•é“¾æ¥",trigger:"blur"}],img:[{required:!0,message:"è¯·ä¸Šä¼ å°é¢å›¾",trigger:"blur"}]}}},methods:{handleImg:function(t,e){this.song.img=t.url},tableRowClassName:function(t){var e=t.row;t.index;return"0"==e.status?"del-row":""},showBigImg:function(t){this.dialogImg=t,this.dialogVisible=!0},editStatus:function(t,e){this.addVisible=!0,this.Status=t,this.id=e,this.title=1==t?"ä½ ç¡®å®šè¦ä¸Šçº¿IDä¸º"+e+"è¿™ä¸ªæ­Œå•å—ï¼Ÿï¼Ÿ":"ä½ ç¡®å®šè¦ä¸‹çº¿IDä¸º"+e+"è¿™ä¸ªæ­Œå•å—ï¼Ÿï¼Ÿ"},pushStatus:function(){var t=this;t.loading2=!0,u.get("/api/playlist/editStatus",{params:{id:t.id,status:t.Status}}).then(function(e){t.loading2=!1,e.success?(t.handleCurrentChange(t.currentPage),t.addVisible=!1,0==t.Status?t.$message({message:"ğŸ˜­ï¼Œä½ å†ä¹Ÿä¸ä¼šåœ¨appé‡Œé¢çœ‹åˆ°è¿™ä¸ªæ­Œå•äº†ï¼",type:"success"}):t.$message({message:"ğŸ˜ƒï¼Œä½ å¾ˆå¿«å°±å¯ä»¥åœ¨appé‡Œé¢çœ‹åˆ°è¿™ä¸ªæ­Œå•äº†ï¼",type:"success"})):t.$message.error("æœåŠ¡å™¨æˆ–è€…ç½‘ç»œé”™è¯¯"+e)}).catch(function(e){t.loading2=!1,t.$message.error("æœåŠ¡å™¨æˆ–è€…ç½‘ç»œé”™è¯¯"+res)})},handleCurrentChange:function(t){var e=this,i=e.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});e.currentPage=t||1,console.log(e.Stitle),u.get("/api/playlist/list",{params:{pageNum:10,page:e.currentPage,TAG:e.Stag,title:e.Stitle}}).then(function(t){console.log(t),e.songList=t.rows,e.total=t.count,i.close()}).catch(function(t){e.$message.error("æœåŠ¡å™¨æˆ–è€…ç½‘ç»œé”™è¯¯"+res)})},editSong:function(t){this.visible2=!0,this.song=t?{id:t.id,title:t.title,description:t.description,img:t.img,TAG:t.TAG,original_name:t.original_name,link:"https://www.youtube.com/playlist?list="+t.original_id,status:t.status}:{id:"",title:"",description:"",img:"",TAG:"",original_name:"",link:"",status:1}},pushSong:function(){var t=this;if(t.loading2=!0,t.song.title&&t.song.link&&t.song.img){var e={id:t.song.id,title:t.song.title,description:t.song.description,img:t.song.img,TAG:t.song.TAG,original_name:t.song.original_name,original_id:t.song.link.match(/.*list=(.*)&?.*/)[1],status:t.song.status};u.post("/api/playlist/edit",e).then(function(e){t.loading2=!1,e.success?(t.handleCurrentChange(),t.visible2=!1,t.$message({message:"ğŸ˜„ ä½ å¾ˆå¿«å°±å¯ä»¥çœ‹åˆ°ä½ ç¼–è¾‘çš„è¿™ä¸ªæ­Œå•äº†ï¼ï¼",type:"success"})):t.$message.error("æœåŠ¡å™¨æˆ–è€…ç½‘ç»œé”™è¯¯"+e)}).catch(function(e){t.loading2=!1,t.$message.error("æœåŠ¡å™¨æˆ–è€…ç½‘ç»œé”™è¯¯"+res)})}else t.$message({message:"ğŸ˜¡ é‚£ä¹ˆå¤§çš„ç©ºçœ‹ä¸åˆ°å—ï¼Ÿï¼Ÿ",type:"warning"})}},created:function(){this.hosts="http://"+location.hostname+":4000/api/fileupload",this.handleCurrentChange()}},x={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{},[t._m(0,!1,!1),t._v(" "),i("el-form",{attrs:{"label-width":"80px",inline:!0}},[i("el-form-item",{attrs:{label:"æ­Œå•æ ‡ç­¾"}},[i("el-select",{attrs:{clearable:"",placeholder:"æ­Œå•æ ‡ç­¾ç­›é€‰"},model:{value:t.Stag,callback:function(e){t.Stag=e},expression:"Stag"}},[i("el-option",{key:"Hot",attrs:{label:"çƒ­é—¨æ­Œå•",value:"Hot"}}),t._v(" "),i("el-option",{key:"HotSinger",attrs:{label:"äººæ°”æ­Œæ‰‹",value:"HotSinger"}})],1)],1),t._v(" "),i("el-form-item",{attrs:{label:"æ­Œå•åç§°"}},[i("el-input",{attrs:{placeholder:"æ­Œå•åç§°"},model:{value:t.Stitle,callback:function(e){t.Stitle=e},expression:"Stitle"}})],1),t._v(" "),i("el-button",{attrs:{type:"success",icon:"el-icon-search"},on:{click:function(e){t.handleCurrentChange()}}},[t._v("æœç´¢")]),t._v(" "),i("el-button",{staticStyle:{float:"right"},attrs:{type:"primary",icon:"el-icon-edit"},on:{click:function(e){t.editSong()}}},[t._v("æ·»åŠ æ­Œå•")])],1),t._v(" "),i("el-table",{attrs:{align:"center","header-align":"center",data:t.songList,height:"calc(100vh - 360px)","row-class-name":t.tableRowClassName}},[i("el-table-column",{attrs:{prop:"id",label:"ID"}}),t._v(" "),i("el-table-column",{attrs:{prop:"title",label:"æ­Œå"}}),t._v(" "),i("el-table-column",{attrs:{prop:"description",label:"æè¿°"}}),t._v(" "),i("el-table-column",{attrs:{prop:"TAG",label:"æ ‡ç­¾"},scopedSlots:t._u([{key:"default",fn:function(e){return["Hot"==e.row.TAG?i("span",[t._v("çƒ­é—¨æ­Œå•")]):t._e(),t._v(" "),"HotSinger"==e.row.TAG?i("span",[t._v("äººæ°”æ­Œæ‰‹")]):t._e()]}}])}),t._v(" "),i("el-table-column",{attrs:{prop:"img",label:"å°é¢å›¾"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("img",{staticClass:"song_img",attrs:{src:e.row.img,alt:""},on:{click:function(i){t.showBigImg(e.row.img)}}})]}}])}),t._v(" "),i("el-table-column",{attrs:{prop:"original_id",label:"æ­Œå•é“¾æ¥"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("a",{attrs:{href:"https://www.youtube.com/playlist?list="+e.row.original_id,target:"_blank"}},[t._v("https://www.youtube.com/playlist?list="+t._s(e.row.original_id))])]}}])}),t._v(" "),i("el-table-column",{attrs:{fixed:"right",label:"å¤„ç†",width:"220"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.status?i("el-button",{attrs:{plain:"",type:"success"},on:{click:function(i){t.editStatus(0,e.row.id)}}},[t._v("å·²ä¸Šçº¿")]):t._e(),t._v(" "),0==e.row.status?i("el-button",{attrs:{plain:"",type:"danger"},on:{click:function(i){t.editStatus(1,e.row.id)}}},[t._v("å·²ä¸‹çº¿")]):t._e(),t._v(" "),i("el-button",{attrs:{plain:"",type:"warning"},on:{click:function(i){t.editSong(e.row)}}},[t._v("ä¿® æ”¹")])]}}])})],1),t._v(" "),i("el-pagination",{attrs:{"current-page":t.currentPage,background:"",layout:"prev, pager, next",total:t.total},on:{"current-change":t.handleCurrentChange}}),t._v(" "),i("el-dialog",{attrs:{title:"æŸ¥çœ‹å¤§å›¾",width:"500px",visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[i("img",{staticStyle:{width:"100%"},attrs:{src:t.dialogImg}}),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"danger"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("å…³ é—­")])],1)]),t._v(" "),i("el-dialog",{attrs:{width:"500px",title:t.title,visible:t.addVisible},on:{"update:visible":function(e){t.addVisible=e}}},[i("img",{staticStyle:{width:"100%"},attrs:{src:t.dialogImg}}),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"danger",loading:t.loading2},on:{click:function(e){t.pushStatus()}}},[t._v("ç¡® å®š")])],1)]),t._v(" "),i("el-dialog",{attrs:{title:"ç¼–è¾‘æ­Œå•",visible:t.visible2},on:{"update:visible":function(e){t.visible2=e}}},[i("el-form",{attrs:{rules:t.rules,"label-width":"80px"}},[i("el-form-item",{attrs:{label:"æ­Œå•ID"}},[i("el-input",{attrs:{disabled:!0},model:{value:t.song.id,callback:function(e){t.$set(t.song,"id",e)},expression:"song.id"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"æ­Œå•åç§°",prop:"title"}},[i("el-input",{model:{value:t.song.title,callback:function(e){t.$set(t.song,"title",e)},expression:"song.title"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"æ­Œå•é“¾æ¥",prop:"link"}},[i("el-input",{model:{value:t.song.link,callback:function(e){t.$set(t.song,"link",e)},expression:"song.link"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"æ­Œå•æè¿°"}},[i("el-input",{model:{value:t.song.description,callback:function(e){t.$set(t.song,"description",e)},expression:"song.description"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"æ­Œå•æ ‡ç­¾"}},[i("el-radio-group",{model:{value:t.song.TAG,callback:function(e){t.$set(t.song,"TAG",e)},expression:"song.TAG"}},[i("el-radio",{attrs:{label:"HotSinger"}},[t._v("äººæ°”æ­Œæ‰‹")]),t._v(" "),i("el-radio",{attrs:{label:"Hot"}},[t._v("çƒ­é—¨æ­Œå•")]),t._v(" "),i("el-radio",{attrs:{label:""}},[t._v("å…¶ä»–")])],1)],1),t._v(" "),i("el-form-item",{attrs:{label:"å°é¢å›¾ä¸Šä¼ ",prop:"img"}},[i("el-upload",{staticClass:"avatar-uploader",attrs:{action:t.hosts,"show-file-list":!1,"on-success":t.handleImg}},[t.song.img?i("img",{staticClass:"avatar",attrs:{src:t.song.img}}):i("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),t._v(" "),i("el-form-item",{attrs:{label:"ä¸­æ–‡æè¿°"}},[i("el-input",{model:{value:t.song.original_name,callback:function(e){t.$set(t.song,"original_name",e)},expression:"song.original_name"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"æ˜¯å¦ä¸Šçº¿"}},[i("el-radio-group",{model:{value:t.song.status,callback:function(e){t.$set(t.song,"status",e)},expression:"song.status"}},[i("el-radio",{attrs:{label:0}},[t._v("å¦")]),t._v(" "),i("el-radio",{attrs:{label:1}},[t._v("æ˜¯")])],1)],1)],1),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"success",loading:t.loading2},on:{click:function(e){t.visible2=!1}}},[t._v("å– æ¶ˆ")]),t._v(" "),i("el-button",{attrs:{type:"danger",loading:t.loading2},on:{click:function(e){t.pushSong()}}},[t._v("ç¡®å®š")])],1)],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"pages_tab"},[this._v("å½“å‰é¡µï¼šç”¨æˆ·ç®¡ç†"),e("i",{staticClass:"el-icon-arrow-right"}),this._v("çˆ±è±†å®¡æ ¸")])}]},S=i("VU/8")(I,x,!1,null,null,null).exports,F={data:function(){return{user:"",pw:""}},methods:{login:function(){if("music"==this.user&&"musicFM"==this.pw){var t="http://"+location.host+"/#/allList";window.open(t,"_self"),sessionStorage.setItem("username","music")}else this.$message.error("è´¦å·å’Œå¯†ç ä¸åŒ¹é…")}},created:function(){if(sessionStorage.getItem("username")){var t="http://"+location.host+"/#/allList";window.open(t,"_self")}}},$={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"login"},[i("img",{staticClass:"logo",attrs:{src:"/static/img/icon-144.png"}}),t._v(" "),t._m(0,!1,!1),t._v(" "),i("div",{staticClass:"login_input"},[i("el-input",{attrs:{placeholder:"è¯·è¾“å…¥å†…å®¹",size:"large"},model:{value:t.user,callback:function(e){t.user=e},expression:"user"}},[i("template",{slot:"prepend"},[t._v("è´¦å·ï¼š")])],2)],1),t._v(" "),i("div",{staticClass:"login_input"},[i("el-input",{attrs:{type:"password",placeholder:"è¯·è¾“å…¥å†…å®¹",size:"large"},model:{value:t.pw,callback:function(e){t.pw=e},expression:"pw"}},[i("template",{slot:"prepend"},[t._v("å¯†ç ï¼š")])],2)],1),t._v(" "),i("div",{staticClass:"login_input"},[i("el-button",{attrs:{type:"primary",size:"large"},on:{click:function(e){t.login()}}},[t._v("ç™»Â Â Â Â å½•")])],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"login_tips"},[this._v("MusicFM"),e("br"),this._v("Operations Management System")])}]},L=i("VU/8")(F,$,!1,function(t){i("e822")},"data-v-be81b824",null).exports;a.default.use(l.a);var V=new l.a({routes:[{path:"/",redirect:"/login"},{path:"/login",component:L},{path:"/addList",component:v},{path:"/hotList",component:b},{path:"/opularityList",component:C},{path:"/allList",component:S}]}),T=i("zL8q"),A=i.n(T);i("tvR6");a.default.use(A.a),a.default.config.debug=!0,new a.default({el:"#app",router:V,template:"<App/>",components:{App:o}})},X2Oc:function(t,e){Date.prototype.Format=function(t){var e={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var i in e)new RegExp("("+i+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?e[i]:("00"+e[i]).substr((""+e[i]).length)));return t}},e822:function(t,e){},tvR6:function(t,e){},zw2w:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.2cecf21cefce7701f383.js.map